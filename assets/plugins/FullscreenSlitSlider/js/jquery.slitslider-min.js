!function($,t,s){"use strict";var i=$.event,e,n;e=i.special.debouncedresize={setup:function(){$(this).on("resize",e.handler)},teardown:function(){$(this).off("resize",e.handler)},handler:function(t,s){var a=this,o=arguments,l=function(){t.type="debouncedresize",i.dispatch.apply(a,o)};n&&clearTimeout(n),s?l():n=setTimeout(l,e.threshold)},threshold:20};var a=$(t),o=$(document),l=t.Modernizr;$.Slitslider=function(t,s){this.$elWrapper=$(s),this._init(t)},$.Slitslider.defaults={speed:800,optOpacity:!1,translateFactor:230,maxAngle:40,maxScale:2,autoplay:!1,keyboard:!0,interval:4e3,fullscreen:!1,animation:"fade",onBeforeChange:function(t,s){return!1},onAfterChange:function(t,s){return!1}},$.Slitslider.prototype={_init:function(t){this.options=$.extend(!0,{},$.Slitslider.defaults,t),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[l.prefixed("transition")],this.support=l.csstransitions&&l.csstransforms3d,this.$el=this.$elWrapper.children(".sl-slider"),this.$slides=this.$el.children(".sl-slide").hide(),this.slidesCount=this.$slides.length,this.current=0,this.isAnimating=!1,this._getSize(),this._layout(),this._loadEvents(),this.options.autoplay&&this._startSlideshow()},_getSize:function(){this.size={width:this.$elWrapper.outerWidth(!0)},this.size.height=this.options.fullscreen?$(t).height():this.$elWrapper.outerHeight(!0)},_layout:function(){this.$slideWrapper=$('<div class="sl-slides-wrapper" />'),this.$slides.wrapAll(this.$slideWrapper).each(function(t){var s=$(this),i=s.data("orientation");s.addClass("sl-slide-"+i).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />')}),this._setSize(),this.$slides.eq(this.current).show().addClass("sl-trans-elems")},_navigate:function(t,i){if(this.isAnimating||this.slidesCount<2)return!1;this.isAnimating=!0;var e=this,n=this.$slides.eq(this.current);i!==s?this.current=i:"next"===t?this.current=this.current<this.slidesCount-1?++this.current:0:"prev"===t&&(this.current=this.current>0?--this.current:this.slidesCount-1),this.options.onBeforeChange(n,this.current);var a=this.$slides.eq(this.current),o="next"===t?n:a,l=o.data(),r={};r.orientation=l.orientation||"horizontal",r.slice1angle=l.slice1Rotation||0,r.slice1scale=l.slice1Scale||1,r.slice2angle=l.slice2Rotation||0,r.slice2scale=l.slice2Scale||1,this._validateValues(r);var h="horizontal"===r.orientation?{marginTop:-this.size.height/2}:{marginLeft:-this.size.width/2},c={transform:"translate(0%,0%) rotate(0deg) scale(1)",opacity:1},d="horizontal"===r.orientation?{transform:"translateY(-"+this.options.translateFactor+"%) rotate("+r.slice1angle+"deg) scale("+r.slice1scale+")"}:{transform:"translateX(-"+this.options.translateFactor+"%) rotate("+r.slice1angle+"deg) scale("+r.slice1scale+")"},p="horizontal"===r.orientation?{transform:"translateY("+this.options.translateFactor+"%) rotate("+r.slice2angle+"deg) scale("+r.slice2scale+")"}:{transform:"translateX("+this.options.translateFactor+"%) rotate("+r.slice2angle+"deg) scale("+r.slice2scale+")"};if(this.options.optOpacity&&(d.opacity=0,p.opacity=0),this.options.animation&&"fade"===this.options.animation)return n.removeClass("sl-trans-elems").css("z-index",10),a.css({"z-index":5,display:"block"}),setTimeout(function(){a.addClass("sl-trans-elems")},this.options.speed/2),void n.fadeOut(this.options.speed,function(){e.isAnimating=!1});n.removeClass("sl-trans-elems");var u={transition:"all "+this.options.speed+"ms ease-in-out"};o.css("z-index",this.slidesCount).find("div.sl-content-wrapper").wrap($('<div class="sl-content-slice" />').css(u)).parent().cond("prev"===t,function(){var t=this;this.css(d),setTimeout(function(){t.css(c)},50)},function(){var t=this;setTimeout(function(){t.css(d)},50)}).clone().appendTo(o).cond("prev"===t,function(){var s=this;this.css(p),setTimeout(function(){n.addClass("sl-trans-back-elems"),e.support?s.css(c).on(e.transEndEventName,function(){e._onEndNavigate(s,n,t)}):e._onEndNavigate(s,n,t)},50)},function(){var s=this;setTimeout(function(){a.addClass("sl-trans-elems"),e.support?s.css(p).on(e.transEndEventName,function(){e._onEndNavigate(s,n,t)}):e._onEndNavigate(s,n,t)},50)}).find("div.sl-content-wrapper").css(h),a.show()},_validateValues:function(t){(t.slice1angle>this.options.maxAngle||t.slice1angle<-this.options.maxAngle)&&(t.slice1angle=this.options.maxAngle),(t.slice2angle>this.options.maxAngle||t.slice2angle<-this.options.maxAngle)&&(t.slice2angle=this.options.maxAngle),(t.slice1scale>this.options.maxScale||t.slice1scale<=0)&&(t.slice1scale=this.options.maxScale),(t.slice2scale>this.options.maxScale||t.slice2scale<=0)&&(t.slice2scale=this.options.maxScale),"vertical"!==t.orientation&&"horizontal"!==t.orientation&&(t.orientation="horizontal")},_onEndNavigate:function(t,s,i){var e=t.parent(),n="sl-trans-elems sl-trans-back-elems";t.remove(),e.css("z-index",1).find("div.sl-content-wrapper").unwrap(),s.hide().removeClass(n),e.removeClass(n),this.isAnimating=!1,this.options.onAfterChange(e,this.current)},_setSize:function(){var t={width:this.size.width,height:this.size.height};this.$el.css(t).closest(".sl-slider-wrapper").css(t).find("div.sl-content-wrapper").css(t)},_loadEvents:function(){var t=this;a.on("debouncedresize.slitslider",function(s){t._getSize(),t._setSize()}),this.options.keyboard&&o.on("keydown.slitslider",function(s){var i=s.keyCode||s.which,e={left:37,up:38,right:39,down:40};switch(i){case e.left:t._stopSlideshow(),t._navigate("prev");break;case e.right:t._stopSlideshow(),t._navigate("next")}})},_startSlideshow:function(){var t=this;this.slideshow=setTimeout(function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},_stopSlideshow:function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.isPlaying=!1,this.options.autoplay=!1)},_destroy:function(t){this.$el.off(".slitslider").removeData("slitslider"),a.off(".slitslider"),o.off(".slitslider"),this.$slides.each(function(t){var s=$(this),i=s.find("div.sl-content").children();i.appendTo(s),s.children("div.sl-content-wrapper").remove()}),this.$slides.unwrap(this.$slideWrapper).hide(),this.$slides.eq(0).show(),t&&t.call()},add:function(t,s){this.$slides=this.$slides.add(t);var i=this;t.each(function(t){var s=$(this),e=s.data("orientation");s.hide().addClass("sl-slide-"+e).children().wrapAll('<div class="sl-content-wrapper" />').wrapAll('<div class="sl-content" />').end().appendTo(i.$el.find("div.sl-slides-wrapper"))}),this._setSize(),this.slidesCount=this.$slides.length,s&&s.call($items)},next:function(){this._stopSlideshow(),this._navigate("next")},previous:function(){this._stopSlideshow(),this._navigate("prev")},jump:function(t){return t-=1,t===this.current||t>=this.slidesCount||0>t?!1:(this._stopSlideshow(),void this._navigate(t>this.current?"next":"prev",t))},play:function(){this.isPlaying||(this.isPlaying=!0,this._navigate("next"),this.options.autoplay=!0,this._startSlideshow())},pause:function(){this.isPlaying&&this._stopSlideshow()},isActive:function(){return this.isAnimating},destroy:function(t){this._destroy(t)}};var r=function(s){t.console&&t.console.error(s)};$.fn.slitslider=function(t){var s=$.data(this,"slitslider");if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){return s?$.isFunction(s[t])&&"_"!==t.charAt(0)?void s[t].apply(s,i):void r("no such method '"+t+"' for slitslider self"):void r("cannot call methods on slitslider prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){s?s._init():s=$.data(this,"slitslider",new $.Slitslider(t,this))});return s}}(jQuery,window);